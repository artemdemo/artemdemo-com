<!DOCTYPE html><html lang="en"><head><title>Theming with styled-components | Artem Demo</title><link rel="icon" type="image/x-icon" href="/./assets/favicon-dec32dcbac.ico"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="Blog about web development, indie GameDev"><meta property="og:title" content="Theming with styled-components"><meta property="og:description" content="Blog about web development, indie GameDev"><link rel="stylesheet" href="/./assets/code-theme-b13f04ca24.css"><link rel="stylesheet" href="/./assets/site.render-0af6967fec.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-3BCNZ31TWL"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3BCNZ31TWL');</script></head><body><div><div class="header-wrapper"><div class="container"><div class="header-container"><div class="header-item header-item__logo"><a class="header-logo-link" href="/">Artem Demo &lt;/&gt;</a></div><div class="header-item header-item__menu"><div class="header-item-menu"><div class="top-menu"><div class="top-menu_item top-menu_item__active"><a class="top-menu_link" href="/">Blog</a></div><div class="top-menu_item"><a class="top-menu_link" href="/about/">About</a></div><div class="top-menu_item"><a class="top-menu_link" href="/contact/">Contact me</a></div></div></div></div></div><div class="header-separator"></div></div></div><div class="container"><div class="ContentWrapper"><h1>Theming with styled-components</h1><div class="secondary-text">31 July, 2020</div><div class="post-tags"><div class="secondary-text">Tags:Â <a class="post-tags-item" href="/blog/tag/styled-components/">styled-components</a></div></div><p>Theme can be stored (or generated) in a js file. For instance, we can keep all of them, in <code class="inline-code">./themes</code> folder and load, while bootstrapping the application.</p><pre><code class="language-js hljs"><span class="hljs"><span class="hljs-keyword">const</span> loadTheme = (themeName) =&gt;
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>((resolve, reject) =&gt; {
    <span class="hljs-keyword">const</span> resolveResponse = (response) =&gt; <span class="hljs-title function_">resolve</span>(response.<span class="hljs-property">default</span>);
    <span class="hljs-keyword">import</span>(<span class="hljs-string">`./themes/<span class="hljs-subst">${themeName}</span>Theme`</span>)
      .<span class="hljs-title function_">then</span>(resolveResponse)
      .<span class="hljs-title function_">catch</span>((err) =&gt; {
        <span class="hljs-keyword">const</span> defaultThemeName = &#x27;<span class="hljs-keyword">default</span>&#x27;;
        <span class="hljs-keyword">if</span> (themeName !== defaultThemeName) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Can&#x27;t load &quot;<span class="hljs-subst">${themeName}</span>&quot; theme`</span>);
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(err);
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Trying to load the default theme`</span>);
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">`./themes/<span class="hljs-subst">${defaultThemeName}</span>Theme`</span>).<span class="hljs-title function_">then</span>(
            resolveResponse,
          );
        }
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(err);
      })
      .<span class="hljs-title function_">catch</span>((err) =&gt; {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(&quot;<span class="hljs-title class_">Theme</span> can&#x27;t be loaded&quot;));
      });
  });
</span></code></pre><p>Provide theme to the app.</p><pre><code class="language-js hljs"><span class="hljs"><span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> &#x27;react-dom&#x27;;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ThemeProvider</span> } <span class="hljs-keyword">from</span> &#x27;styled-components&#x27;;

<span class="hljs-comment">// ...</span>

<span class="hljs-keyword">const</span> bootstrapApp = () =&gt; {
  <span class="hljs-title function_">loadTheme</span>(configs.<span class="hljs-property">theme</span>).<span class="hljs-title function_">then</span>((theme) =&gt; {
    <span class="hljs-title function_">render</span>(
      &lt;<span class="hljs-title class_">ThemeProvider</span> theme={theme}&gt;
        &lt;<span class="hljs-title class_">App</span> /&gt;
      &lt;/<span class="hljs-title class_">ThemeProvider</span>&gt;,
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(&#x27;app&#x27;),
    );
  });
};
</span></code></pre><p>Now your theme will be available via <code class="inline-code">this.props.theme</code> of styled-components. Theme property can be anything you defined it to be. In the example below, it&#x27;s an object with two properties: <code class="inline-code">infoButtonBgColor</code> and name.</p><pre><code class="language-js hljs"><span class="hljs"><span class="hljs-keyword">import</span> styled, { withTheme } <span class="hljs-keyword">from</span> &#x27;styled-components&#x27;;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">InfoButton</span> = styled.<span class="hljs-property">button</span><span class="hljs-string">`
  background-color: <span class="hljs-subst">${(props) =&gt; props.theme.infoButtonBgColor}</span>;
`</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">InfoArea</span> = (props) =&gt; {
  <span class="hljs-keyword">const</span> { theme } = props;
  <span class="hljs-keyword">return</span> (
    &lt;div&gt;
      {theme.<span class="hljs-property">name</span>}
      &lt;<span class="hljs-title class_">InfoButton</span>&gt;<span class="hljs-title class_">Ok</span>&lt;/<span class="hljs-title class_">InfoButton</span>&gt;
    &lt;/div&gt;
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">withTheme</span>(<span class="hljs-title class_">InfoArea</span>);
</span></code></pre></div></div></div></body></html>