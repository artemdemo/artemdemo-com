<!DOCTYPE html><html lang="en"><head><title>Simple template engine in JavaScript | Artem Demo</title><link rel="icon" type="image/x-icon" href="/./assets/favicon-dec32dcbac.ico"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="Blog about web development, indie GameDev"><meta property="og:title" content="Simple template engine in JavaScript"><meta property="og:description" content="Blog about web development, indie GameDev"><link rel="stylesheet" href="/./assets/code-theme-36bdf5f7fe.css"><link rel="stylesheet" href="/./assets/site.render-5d1535d9c3.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-3BCNZ31TWL"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3BCNZ31TWL');</script></head><body><div><div class="header-wrapper"><div class="container"><div class="header-container"><div class="header-item header-item__logo"><a class="header-logo-link" href="/">Artem Demo &lt;/&gt;</a></div><div class="header-item header-item__menu"><div class="header-item-menu"><div class="top-menu"><div class="top-menu_item top-menu_item__active"><a class="top-menu_link" href="/">Blog</a></div><div class="top-menu_item"><a class="top-menu_link" href="/about/">About</a></div><div class="top-menu_item"><a class="top-menu_link" href="/contact/">Contact me</a></div></div></div></div></div><div class="header-separator"></div></div></div><div class="container"><div class="ContentWrapper"><h1>Simple template engine in JavaScript</h1><div class="secondary-text">24 October, 2020</div><div class="secondary-text">Tags:Â <a class="post-tags-item" href="/blog/tag/regex/">regex</a><a class="post-tags-item" href="/blog/tag/template/">template</a></div><p>Recently I had a task, that included creating simple templates. Nothing special, just using JavaScript replace placeholders with provided values. Obviously it&#x27;s better to have some general solution in place, so next time any change wouldn&#x27;t be painful.</p><p>Examples of some strings with placeholders:</p><ul><li>&quot;Hello, {name}!&quot;</li><li>&quot;The answer is {value}&quot;</li><li>etc</li></ul><p>There is no complicated logic inside of the template. Therefore, I need just an object with values to replace, and some mechanism to find correlation between placeholder name and keys in the values object.</p><p>So I came up with following solution:</p><pre><code class="language-typescript hljs"><span class="hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">TTemplateData</span> = {
  [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> templateEngine = (<span class="hljs-attr">inputString</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">data</span>: <span class="hljs-title class_">TTemplateData</span>) =&gt; {
  <span class="hljs-keyword">return</span> inputString.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/{\s*(\w*)\s*}/g</span>, (match, key) =&gt; {
    <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">hasOwnProperty</span>(key) ? data[key] : &#x27;&#x27;;
  });
};
</span></code></pre></div></div></div></body></html>