{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/20201024-simple-template-engine-in-js/","result":{"data":{"site":{"siteMetadata":{"title":"Artem Demo, indie developer","author":"Artem Demo"}},"markdownRemark":{"id":"14dc78c5-7151-5766-9fe8-8daf384616de","excerpt":"Recently I had a task, that included creating simple templates.\nNothing special, just using JavaScript replace placeholders with provided values.\nObviously it’s better to have some general solution in place, so next time any change wouldn’t be painful.","html":"<p>Recently I had a task, that included creating simple templates.\nNothing special, just using JavaScript replace placeholders with provided values.\nObviously it’s better to have some general solution in place, so next time any change wouldn’t be painful.</p>\n<!-- end -->\n<p>Examples of some strings with placeholders:</p>\n<ul>\n<li>“Hello, {name}!”</li>\n<li>“The answer is {value}”</li>\n<li>etc</li>\n</ul>\n<p>There is no complicated logic inside of the template.\nTherefore, I need just an object with values to replace,\nand some mechanism to find correlation between placeholder name and keys in the values object.</p>\n<p>So I came up with following solution:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">TTemplateData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>key<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">templateEngine</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>inputString<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> data<span class=\"token operator\">:</span> TTemplateData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> inputString\n        <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>\n            <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">{\\s*(\\w*)\\s*}</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">(</span>match<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> data<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"Simple template engine in JavaScript","date":"October 24, 2020","tags":["regex","template"]}}},"pageContext":{"slug":"/20201024-simple-template-engine-in-js/","previous":{"fields":{"slug":"/20201017-adding-react-snap-to-my-app/"},"frontmatter":{"title":"Adding react-snap to my app","tags":["react-snap","prerender","imgreview"]}},"next":{"fields":{"slug":"/20201029-adding-favicon-to-gatsby-site/"},"frontmatter":{"title":"Adding favicon to gatsby website","tags":["favicon","gatsby"]}}}},"staticQueryHashes":[]}