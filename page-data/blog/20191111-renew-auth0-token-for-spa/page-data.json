{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/20191111-renew-auth0-token-for-spa/","result":{"data":{"site":{"siteMetadata":{"title":"Artem Demo, indie developer","author":"Artem Demo"}},"markdownRemark":{"id":"16fb75af-cb70-5d0a-bd62-e1ea2183b9e8","excerpt":"Sorry, but documentation of auth0 is not the best source of knowledge on how to use auth0. Not something that you expect to happen, right? Official documentation is okay if you need to understand only a basic usage, but if you need more than that, you pretty much on your own. At least it’s my experience with this service. Especially for not so popular topic of “renewing auth0 token for SPA (Single Page Application)“. So let’s talk about exactly that.","html":"<p>Sorry, but documentation of auth0 is not the best source of knowledge on how to use auth0. Not something that you expect to happen, right? Official documentation is okay if you need to understand only a basic usage, but if you need more than that, you pretty much on your own. At least it’s my experience with this service. Especially for not so popular topic of “renewing auth0 token for SPA (Single Page Application)“. So let’s talk about exactly that.</p>\n<!-- end -->\n<p>First, let’s understand why we need to renew. It’s related to, whether you’re using relatively short expiration time for your token. If you are, which, by the way, will make your app more secure, then you will want to renew token if your app is in active usage. This will make the user experience much more pleasant, so he wouldn’t need to re-login each time. So the idea is legit, now the question is how to implement it.</p>\n<p>I will start with a description of the expected flow for silent token renewal. By the way auth0 could’ve done a better job of explaining it. Now I found these steps only in one of their community forums. Here there are:</p>\n<ol>\n<li>User login to the application for the first time.</li>\n<li>When the initial tokens expire the client makes another request to auth0 in order to obtain a new token.</li>\n</ol>\n<p>Ok, that’s great and the first step is even easy to implement, there is clear document for it. But what about the second one? How it should work and how to implement it? Let’s talk about exactly that.</p>\n<h2>Auth0 silent token renewal</h2>\n<p>Before we’ll dive into code example, I want to establish some vocabulary. Auth0 uses different tokens in its lifecycle: access token, refresh token, ID token and some others. It looks like the most relevant are access token and refresh token - the first one we use in order to get access to the API and the second just has the right name. Let’s look at the definition, provided by auth0 itself:</p>\n<ul>\n<li>access token - a credential that can be used by an application to access an API.</li>\n<li>refresh token - contains the information required to obtain a new Access Token or ID Token.</li>\n</ul>\n<p>So which one we need in the renew flow? Looks like the second one is the obvious choice. But it’s wrong. The funny thing is that we need neither of them in order to renew existing token for our SPA %) Crazy world.</p>\n<p>I want to emphasize once more - I’m talking about the SPA lifecycle. My app will interact with auth0 API directly. If you have a different situation, then probably your solution will be different. Are we good? Now we can continue.</p>\n<p>The first step will be to login. We need to start from this basic step in order to initialize the main SDK object with all credentials in place. Without it, we can’t proceed to renewal.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Initialize auth0 instance.</span>\n<span class=\"token comment\">// http://auth0.github.io/auth0.js/WebAuth.html</span>\nwebAuth <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">auth0js<span class=\"token punctuation\">.</span>WebAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        domain<span class=\"token punctuation\">,</span>\n        clientID<span class=\"token punctuation\">,</span>\n        redirectUri<span class=\"token punctuation\">,</span>\n        audience<span class=\"token punctuation\">,</span>\n        responseType<span class=\"token punctuation\">,</span>\n        scope<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Kick in authorization with auth0.</span>\n<span class=\"token comment\">// https://auth0.com/docs/libraries/auth0js/v9#webauth-authorize-</span>\nwebAuth<span class=\"token punctuation\">.</span><span class=\"token function\">authorize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Starting token renew:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Token constructor class\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthenticationToken</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> access<span class=\"token punctuation\">,</span> expiresAt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>access <span class=\"token operator\">=</span> access<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>expiresAt <span class=\"token operator\">=</span> expiresAt<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getTokenFromResult</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> expiresAt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>expiresIn <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AuthenticationToken</span><span class=\"token punctuation\">(</span>\n        result<span class=\"token punctuation\">.</span>idToken<span class=\"token punctuation\">,</span>\n        result<span class=\"token punctuation\">.</span>accessToken<span class=\"token punctuation\">,</span>\n        expiresAt<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Renew authorization token\n * @param options {object}\n * @returns {Promise&lt;any>}\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">renewAuth</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> _options <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        audience<span class=\"token operator\">:</span> authProps<span class=\"token punctuation\">.</span>audience<span class=\"token punctuation\">,</span>\n        redirectUri<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>appUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/silent.html</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        usePostMessage<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Executes a silent authentication transaction under the hood</span>\n    <span class=\"token comment\">// in order to fetch a new tokens for the current session.</span>\n    <span class=\"token comment\">// @link http://auth0.github.io/auth0.js/global.html#renewAuth</span>\n    webAuth<span class=\"token punctuation\">.</span><span class=\"token function\">renewAuth</span><span class=\"token punctuation\">(</span>_options<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err <span class=\"token operator\">||</span> <span class=\"token function\">_get</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> <span class=\"token string\">'error'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>err <span class=\"token operator\">||</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">&amp;&amp;</span> result<span class=\"token punctuation\">.</span>accessToken <span class=\"token operator\">&amp;&amp;</span> result<span class=\"token punctuation\">.</span>idToken<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">const</span> token <span class=\"token operator\">=</span> <span class=\"token function\">getTokenFromResult</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">const</span> errorText <span class=\"token operator\">=</span> <span class=\"token string\">'Ambiguous response from auth0'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>errorText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And here is <code class=\"language-text\">silent.html</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token name\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.auth0.com/js/auth0/9.11/auth0.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n            <span class=\"token keyword\">var</span> appUrlFromConfig <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;%= htmlWebpackPlugin.options.appUrl %>'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> appUrl <span class=\"token operator\">=</span> appUrlFromConfig <span class=\"token operator\">?</span> appUrlFromConfig <span class=\"token operator\">:</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">var</span> webAuth <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">auth0<span class=\"token punctuation\">.</span>WebAuth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                domain<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;%= htmlWebpackPlugin.options.auth0Domain %>'</span><span class=\"token punctuation\">,</span>\n                clientID<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;%= htmlWebpackPlugin.options.auth0ClientID %>'</span><span class=\"token punctuation\">,</span>\n                redirectUri<span class=\"token operator\">:</span> appUrl<span class=\"token punctuation\">,</span>\n                audience<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;%= htmlWebpackPlugin.options.auth0Audience %>'</span><span class=\"token punctuation\">,</span>\n                responseType<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;%= htmlWebpackPlugin.options.auth0ResponseType %>'</span><span class=\"token punctuation\">,</span>\n                scope<span class=\"token operator\">:</span> <span class=\"token string\">'&lt;%= htmlWebpackPlugin.options.auth0PartitionScope %>'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            webAuth<span class=\"token punctuation\">.</span><span class=\"token function\">parseHash</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// This message will be handled by auth0 in the main app</span>\n                <span class=\"token comment\">// You can find related callback in `webAuth.renewAuth`</span>\n                parent<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span>err <span class=\"token operator\">||</span> response<span class=\"token punctuation\">,</span> appUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This is all you need for token renewal. But there are some hidden problems with it. So let’s see what are they.</p>\n<h2>3rd party cookies for auth0 silent token renewal</h2>\n<p>Another thing that isn’t mentioned in the official documentation (or at least I don’t know where it is, and I searched a lot) is the usage of the 3rd party cookies in the process of silent token renewal. In one sentence - they are required. Your browser should allow usage of such cookies. The good thing is that they are generally available in every modern browser, but there is a catch.</p>\n<p>First, let’s check what is the status of Chrome on your machine. Why Chrome? It’s just the most popular browser on the planet and if you want to check it for any other browser, you’ll find a way :)</p>\n<p>You can check your setting by going to this URL chrome://settings/content/cookies - you should see something like that:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e42bf8d17218ba7b06258d0aebddf69c/05bbd/chrome-cookies.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVQoz5WRTU7DMBCFfQ6QkFiVq8CmC7gQUG4BFQdAUIkN50CilGUTFizyHyf+i/MYDwRRaCSw9Gmc8fjNG0dMjheYnNzjgNifLrBzeIvdo/9yR/dusDd9gJjNl5jNn3FxvcI5xbOrJXN6OQKfPfF+qP26M3+BAC3dVpB1jrYpIascf1lGSfjO/MoL7z2c62CJIXad38T3hP9GD0d596POWAeR5zmyLEdRlERB+wxpIE05nyQJ0/f9VjwR1mNs8VYYiLquUZYlqqriOBC+Q4O2bfnCmGD/Kai1gTEk2DQNpJQYYhBQSjFh75zbeKMxQWstjWwhojjGOooQx69YryMeUylNDVpuUtcSPAU5HsS3O9TQwWEoMsay3RD5gOyHqALk9COn6eG7UZfhp1jSegek24idp510FAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Chrome cookies\"\n        title=\"Chrome cookies\"\n        src=\"/static/e42bf8d17218ba7b06258d0aebddf69c/27330/chrome-cookies.png\"\n        srcset=\"/static/e42bf8d17218ba7b06258d0aebddf69c/3c361/chrome-cookies.png 148w,\n/static/e42bf8d17218ba7b06258d0aebddf69c/03654/chrome-cookies.png 295w,\n/static/e42bf8d17218ba7b06258d0aebddf69c/27330/chrome-cookies.png 590w,\n/static/e42bf8d17218ba7b06258d0aebddf69c/05bbd/chrome-cookies.png 709w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Property “Block third-party cookies” (third from the top in my case) should be disabled. For the users, that have it enabled silent token renewal will not work.</p>\n<p>Ok, but our problems are not ending there. In the next year, Chrome will introduce a new policy for the cookies and will require to use property SameSite. In case this property is not set, again cookies will not work. Already today you can see the following warning in the browser console:</p>\n<blockquote>\n<p><em>A cookie associated with a cross-site resource at <URL> was set without the <code class=\"language-text\">SameSite</code> attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with <code class=\"language-text\">SameSite=None</code> and <code class=\"language-text\">Secure</code>. You can review cookies in developer tools under Application>Storage>Cookies and see more details at <URL> and <URL>.</em></p>\n</blockquote>\n<p>In Chrome console it will look like this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/24ec86b8a3bd6978a6da9efda6848f31/ee7ce/chrome-console-warning.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.351351351351354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVQY0yWP3XaCMBCEff/36X17Tq22tViEKhUkQiAJfwJqqYA4LvFizmyyu18mkz58QidfcFA28miBKlnhIL6RBO9UW6hTG0Vs4JSvUSoTpTS1jzOVeswWYqn7t05igiFF33ANSEmKzbRz55kWTGR8AelP9WIafup+sh9nP7QUm+v79sQIKAh4lQQMIHavkOwNKphDsCn57HHWMAPH3KZ0lCb+okQG/YgSZpb2mvzWRhhZk8H30LgOzssFWneD3vvFZaw3Ni4RQ6M42lyhK0YlGMoMvYpReA5K0pG5qLiPjG1xq3ICZgWqfYDG89H9OOiWK5L10JYec1zUpo3aWqPmEbo0wzWM0IYc/zuGNuD4iwXOQgJVjTvoDW7XHPO2RgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Chrome console warning\"\n        title=\"Chrome console warning\"\n        src=\"/static/24ec86b8a3bd6978a6da9efda6848f31/27330/chrome-console-warning.png\"\n        srcset=\"/static/24ec86b8a3bd6978a6da9efda6848f31/3c361/chrome-console-warning.png 148w,\n/static/24ec86b8a3bd6978a6da9efda6848f31/03654/chrome-console-warning.png 295w,\n/static/24ec86b8a3bd6978a6da9efda6848f31/27330/chrome-console-warning.png 590w,\n/static/24ec86b8a3bd6978a6da9efda6848f31/ee7ce/chrome-console-warning.png 756w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Auth0 support guys are saying that they are aware of the problem and will change their code accordingly. They will need to be ready before Chrome 80, which will be rolled out in Feb 2020. In Chrome 80 all cookies, that don’t have SameSite, will be ignored by the browser. </p>\n<h2>Conclusion</h2>\n<p>It’s not an easy task to create a secured authorization system. And I believe that auth0 are trying to do their best in order to provide the best user experience they can. But I still feel that there is room for improvement. I’m talking first of all about transparency for the developers - better documentation and a better understanding of different environments.</p>","frontmatter":{"title":"Renew auth0 token for SPA using js SDK","date":"November 11, 2019","tags":["auth0","token","spa"]}}},"pageContext":{"slug":"/20191111-renew-auth0-token-for-spa/","previous":{"fields":{"slug":"/20191105-you-shouldnt-always-use-redux/"},"frontmatter":{"title":"You shouldn't always use redux life-cycle in your app","tags":["redux"]}},"next":{"fields":{"slug":"/20191123-grokking-algorithms/"},"frontmatter":{"title":"Grokking algorithms","tags":["book","studying","algorithms"]}}}},"staticQueryHashes":[]}