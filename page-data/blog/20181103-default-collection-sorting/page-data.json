{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/20181103-default-collection-sorting/","result":{"data":{"site":{"siteMetadata":{"title":"Artem Demo, indie developer","author":"Artem Demo"}},"markdownRemark":{"id":"d7992706-df6c-5412-9bd6-720db2daa809","excerpt":"Let’s say you need to display a collection that you received from the server.\nUsually it will come in the form of an array of objects: list…","html":"<p>Let’s say you need to display a collection that you received from the server.\nUsually it will come in the form of an array of objects: list of books, people, goods, etc.\nIt’s a very common task for frontend.\nActually this assignment is the main reason why we need frontend -\nwe need to represent documents and collections in the most used way to aggregate them.</p>\n<p>Usually presentation of a collection came with it’s brother task - sorting it.\nAnd here comes the question - on which side should this sorting be done: in the browser or in the server?\nThis question is especially legitimate for small collections,\nwhen the server just sends all of it to the browser - first of all let’s see why that is.</p>\n<p>Let’s say we have a huge database - millions of data entries.\nThere is no way we can send it all to the client in one piece.\nWe will require the client to define some criteria and then we’ll return the collection that represents these criteria.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 484px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1a31c405a3f3ec3a326ecc6c814350f1/6a8a5/collection-excerpt.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVQY02MwMrNiePP/PwMIcPPwCLGysYlzcnKJsnNwCHFwcooD+WLcPLyCQGlRIBbg5OISYWNnF+Xi5hZiY2MX5+Hl42OAAg1tfQjDzSeI4S3EUCEgVgBiSSAWA2JpIJYFYkEoDRIXh4pLQGmR/0C9nv6hDHAQHp/GYOXgKhaTkiMVFpsiFJ9RIOEfHiuSkFkoERqbIhweny4jJCzKwc7OwRKdnC0ZFpcmAqQlgPpEIhIzJJ08/CT+Q33J0DltISuIs+/Cg0knbr3+v+34tb0nbr/+tf34tQNA/o9tx67uP3333f/Shk5ZoE84j1x//mPf+fvHD1158mnfhftHgfTPQ1cebwSZkV/ZxMygZ2TGBjSXdf2Bc3a7z97JWbXrhP+es3cyVu8+GQDkpwP5AfsvPshx9vQXFhGT4Nl56mb6pkMXg4EWpwLpICCdvvnwJW+gGRyy8kqsANwDhcUQ0azpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Collection excerpt\"\n        title=\"Collection excerpt\"\n        src=\"/static/1a31c405a3f3ec3a326ecc6c814350f1/6a8a5/collection-excerpt.png\"\n        srcset=\"/static/1a31c405a3f3ec3a326ecc6c814350f1/3c361/collection-excerpt.png 148w,\n/static/1a31c405a3f3ec3a326ecc6c814350f1/03654/collection-excerpt.png 295w,\n/static/1a31c405a3f3ec3a326ecc6c814350f1/6a8a5/collection-excerpt.png 484w\"\n        sizes=\"(max-width: 484px) 100vw, 484px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>So each time the client will get only partial data and sometimes, when a given query is too general,\nthen the server will cut it even more. For example, it may return only the first 1000 entries.\nIn this case we can’t sort data on the client,\nbecause sorting should be part of the query and should be taken into account in the server.</p>\n<p>The next situation is when the server indeed returns all data to the client.\nUsually this happens when a project is in the early stage of development and server sorting\nhasn’t been implemented yet or a collection is small by design and shouldn’t grow.\nIn this case, sorting can be done in the client.</p>\n<p>But even when sorting is done in the client,\nit doesn’t mean that the default order of the items should be defined by the client.\nYou see, the server will need to fetch data from the database anyway, it’s not like it has any other choice.\nSo if data has already been fetched by some query, why not define sorting in the same query?\nThe client will take it from here, but the default order should be a server side problem.</p>","frontmatter":{"title":"Where the default sorting of a collection should be done","date":"November 03, 2018","tags":["sorting","collections","order"]}}},"pageContext":{"slug":"/20181103-default-collection-sorting/","previous":null,"next":{"fields":{"slug":"/20181104-replacing-momentjs/"},"frontmatter":{"title":"Replacing moment.js with date-fns","tags":["moment.js","date-fns"]}}}},"staticQueryHashes":[]}